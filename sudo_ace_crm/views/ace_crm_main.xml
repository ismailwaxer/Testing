<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Inherit Form View to Modify it -->
        <record id="odoo_inherit_form_crm_new" model="ir.ui.view">
            <field name="name">CRM Form</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_lead_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='team_id']" position="after">
                        <group>
                            <field name="apn_crmunique_identifier" readonly="1"/>
                            <field name="sent_to_aws" invisible="1" force_save="1" readonly="1"/>
                            <field name="from_ui" invisible="1"/>
                            <field name="partner_crmunique_identifier" readonly="1" force_save="1"/>
                            <field name="industryothers"/>
                                                        <field name="country_name" invisible="1"/>
                        </group>
                </xpath>

                                <xpath expr="//page[@name='lead']//field[@name='website']" position="attributes">
                                    <attribute name="invisible">1</attribute>
                                </xpath>
                                <xpath expr="//page[@name='lead']//field[@name='lang_id']" position="after">
                                    <field name="website_ids"/>
                                </xpath>

                <!--                                <xpath expr="//field[@name='state_id']" position="attributes">-->
                <!--                                    <attribute name="attrs">{'required': [('country_name', '=', 'United States')]}</attribute>-->
                <!--                                </xpath>-->

                <xpath expr="//page[@name='lead']" position="after">
                    <page string="ACE Pipeline" attrs="{'invisible': [('type', '=', 'lead')]}">
                        <group string="OPPORTUNITY DETAILS">
                            <group>
                                <field name="partner_project_title"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="project_description"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="opportunity_owner_name"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                            </group>
                            <group>
                                <field name="stage" attrs="{'required': [('submit_to_AWS','=', 'Yes')]}"/>
                                <field name="status" attrs="{'required': [('stage','=', 'Closed Lost')]}"/>
                                <field name="target_close_date" attrs="{'required': [('submit_to_AWS','=', 'Yes')]}" />
                                <field name="closed_lost_reason"
                                       attrs="{'required': [('stage','=', 'Closed Lost')]}"/>
                            </group>
                        </group>
                        <!-- End of Opportunity Details Group -->

                        <!-- Additional Details Group -->
                        <group string="ADDITIONAL DETAILS">
                            <group>
                                <field name="partner_primary_need_from_aws"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="usecase"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"
                                       options="{'no_create': True, 'no_create_edit':True}"/>
                                <field name="sub_usecase"
                                       options="{'no_create': True, 'no_create_edit':True}"/>
                                <field name="isMarketingDevelopmentFunded"/>

                            </group>
                            <group>
                                <field name="is_this_for_marketplace"/>
                                <field name="delivery_model"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="expected_monthly_aws_revenue"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>

                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="aws_account_id"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="opportunity_owner_email"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="isnet_newbusiness_forcompany"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="contract_vehicle"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="is_this_for_resell"/>
                                <field name="isthis_apublic_reference"/>
                                <field name="aws_field_engagement"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="next_step"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="partner_acceptance_status"
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                            </group>
                            <group>
                                <field name="competitive_tracking"/>
                                <field name="competitiveTrackingOther"/>
                                <field name="aws_last_modified_by" readonly="1"/>
                                <field name="aws_last_modified_date" readonly="1"/>
                                <field name="public_referenceUrl" widget="url" placeholder='www.odoo.com'/>
                                <field name="customer_website" widget="url" placeholder='www.odoo.com'
                                       attrs="{'required': [('submit_to_AWS','=', 'Yes'),('type', '!=', 'lead')]}"/>
                                <field name="public_referenceTitle"/>
                                <field name="partner_primary_needfromAwsOther"/>

                                <field name="aws_stage"/>
                                <field name="submit_to_AWS"/>
                            </group>
                        </group>
                    </page>

                    <page string="ACE Contacts" attrs="{'invisible': [('type', '=', 'lead')]}">

                        <group>
                            <!-- AWS SALE REP Group -->
                            <group string="AWS SALE REP">
                                <field name="aws_sales_RepName" readonly="1"/>
                                <field name="aws_sales_repEmail" readonly="1"/>
                            </group>
                            <!-- AWS ACCOUNT MANAGER Group -->
                            <group string="AWS ACCOUNT MANAGER">
                                <field name="awsAccountOwnerName" readonly="1"/>
                                <field name="awsAccountOwnerEmail" readonly="1"/>
                            </group>
                            <!-- Partner Development Manager Group -->
                            <group string="PARTNER DEVELOPMENT MANAGER">
                                <field name="partnerDeveloperManager" readonly="1"/>
                                <field name="partner_developer_manager_email" readonly="1"/>
                                <field name="partner_developer_managerPhone" readonly="1"/>
                            </group>
                            <!-- WWPS partner Development Manager Group -->
                            <group string="WWPS PARTNER DEVELOPMENT MANAGER ">
                                <field name="wwpspdm" readonly="1"/>
                                <field name="wWPSPDMEmail" readonly="1"/>
                            </group>
                            <!-- AWS Partner Success Manager Group -->
                            <group string="AWS PARTNER SUCCESS MANAGER (PSM)">
                                <field name="aws_partner_success_manager_name" readonly="1"/>
                                <field name="awsPartnerSuccessManagerEmail" readonly="1"/>
                            </group>
                            <!-- Additional Details Group -->
                            <group string="AWS ISV SUCCESS MANAGER (ISM)">
                                <field name="awsISVSuccessManagerName" readonly="1"/>
                            </group>
                        </group>
                    </page>

                    <page string="ACE NextStep" attrs="{'invisible': [('type', '=', 'lead')]}">
                        <field name="next_step_history" readonly="1"/>
                    </page>


                    <page string="ACE Lead" attrs="{'invisible': [('type', '=', 'opportunity')]}">
                        <group>
                            <group>
                                <field name="project_description" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <!--                                <field name="lead_source" attrs="{'invisible': [('type', '!=', 'lead')]}"/>-->
                                <field name="current_lead_stage" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="lead_age" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="campaign_member_status" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="usecase" attrs="{'invisible': [('type', '!=', 'lead')]}"
                                       options="{'no_create': True, 'no_create_edit':True}"/>
                                <!--                                <field name="partner_project_title"-->
                                <!--                                       invisible="1" attrs="{'invisible': [('type', '!=', 'lead')]}"/>-->
                            </group>
                            <group>
                                <field name="partner_crm_lead_id" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <!--                                <field name="apn_crmunique_identifier" readonly="1" attrs="{'invisible': [('type', '!=', 'lead')]}"/>-->
                                <field name="segment_company_size" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="level_of_aws_usage" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="lead_status_reason" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                                <field name="submit_to_AWS" attrs="{'invisible': [('type', '!=', 'lead')]}"/>
                            </group>
                        </group>

                    </page>

                </xpath>
            </field>
        </record>
        <record model="ir.actions.act_window" id="crm.crm_lead_action_pipeline">
            <field name="name">Pipeline</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_from_ui': True}</field>
        </record>
    </data>
</odoo>